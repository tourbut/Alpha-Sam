# v1.0.0 Frontend Design: Analytics Dashboard

## Overview
This document outlines the UI/UX design for the new Analytics features in v1.0.0.

## 1. Chart Library Selection
**Decision**: **Chart.js** (via `svelte-chartjs` wrapper or direct usage).
- **Reason**:
    - Mature ecosystem, excellent documentation.
    - Built-in responsiveness and animations.
    - "Line Chart" for history is a standard use case.
    - Recharts is React-centric; Chart.js is framework-agnostic.

## 2. Component Architecture

### A. `PnLSummaryCard.svelte`
- **Purpose**: Show high-level performance metrics.
- **Props**:
    - `totalInvested`: number
    - `currentValue`: number
    - `pnlValue`: number
    - `pnlPercent`: number
- **Visuals**:
    - 4-column Grid or Flex row.
    - **PnL Text Color**: Green (`text-green-500`) if >= 0, Red (`text-red-500`) if < 0.
    - Skeleton loader while fetching.

### B. `PortfolioHistoryChart.svelte`
- **Purpose**: Visualize net worth trend over the last 30 days.
- **Props**:
    - `data`: `{ date: string, value: number }[]`
- **Implementation**:
    - Canvas element.
    - X-Axis: Dates (formatted MM/DD).
    - Y-Axis: Currency Value.
    - Tooltip on hover showing exact value.

## 3. State Management (`stores/analytics.ts`)
- **Store**: `analyticsStore`
- **Actions**:
    - `fetchPnL()`: Calls `GET /api/v1/analytics/pnl`
    - `fetchHistory(period)`: Calls `GET /api/v1/analytics/portfolio/history?period=...`
- **Loading States**:
    - `$analyticsStore.loading` (boolean)
    - `$analyticsStore.error` (string | null)

## 4. Page Layout (`/dashboard`)
```svelte
<script>
  // imports...
</script>

<div class="container mx-auto p-4 space-y-6">
  <!-- 1. Header & PnL Summary -->
  <header>
    <h1 class="text-2xl font-bold mb-4">Dashboard</h1>
    <PnLSummaryCard {...} />
  </header>

  <!-- 2. Main Chart Section -->
  <section class="bg-white dark:bg-gray-800 rounded-lg shadow p-4">
    <h2 class="text-lg font-semibold mb-2">Portfolio Value (30 Days)</h2>
    <PortfolioHistoryChart data={...} />
  </section>

  <!-- 3. Existing Asset List -->
  <section>
    <h2 class="text-lg font-semibold mb-2">Your Assets</h2>
    <AssetList />
  </section>
</div>
```
