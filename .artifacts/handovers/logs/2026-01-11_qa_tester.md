# QA Tester Work Log - 2026-01-11

## Tasks Completed

1.  **Dashboard Bug Verification**:
    - Verified `GET /api/v1/portfolios/` endpoint.
    - Confirmed it returns 200 OK, indicating the "double prefix" routing issue is resolved.

2.  **v1.2.0 Feature Verification (API Level)**:
    - **Portfolios**: Verified creation and listing of multiple portfolios.
    - **Transactions**: Verified "BUY" and "SELL" transaction creation.
    - **Positions**: Verified automatic position calculation and updates based on transactions.
        - BUY 10 -> Qty 10
        - SELL 5 -> Qty 5 (Avg price maintained)

3.  **Bug Fix (Schema Mismatch)**:
    - Encountered 500 Error on Position API.
    - Diagnosed mismatch between `PositionRead` schema (legacy `buy_price`) and `Position` model (new `avg_price`).
    - **Action**: Modified `backend/app/src/schemas/position.py` to align with v1.2.0 model.
    - Verified fix.

4.  **v1.2.0 Smoke Test (Post-Deployment)**:
    - Attempted to verify Login/Dashboard on deployed environment.
    - **Result**: FAILED (Critical 500 Error).
    - **Root Cause**: `Module not found: $lib/stores/auth` in `fastapi.js`.
    - **Action Taken**: Reported issue to Frontend Developer.

## Reports
- `.artifacts/projects/qa_reports/test_report_v1.2.0_20260111.md` created.
- `.artifacts/projects/qa_reports/test_report_v1.2.0_smoke.md` created (FAILURE).

## Issues Found
- **Bug-v1.2.0-001**: Frontend Import Error ($lib/stores/auth). Assigned to FE.

---

## v1.2.1 Hotfix Re-verification (Night Shift)

### Tasks
1. **Smoke Test Re-verification**:
    - `http://localhost:5173/login` 접속 확인.
    - 로그인 및 대시보드 로딩 확인.
    - Transaction 추가 기능 재확인.

### Actions/Results
1. **Backend Crash Fixed**:
    - v1.2.1 기동 시 `ImportError: PortfolioCreate` 발생 확인.
    - QA가 `app/src/schemas/portfolio.py` 수정하여 서버 복구.
2. **Smoke Test FAILED**:
    - Frontend 접속은 가능해졌으나 로그인 시 422 에러 발생.
    - 사유: Frontend JSON vs Backend Form-data 스펙 불일치 및 API 엔드포인트 혼선.
    - 대시보드 및 포트폴리오 경로 404 에러 지속.

### Reports
- `test_report_v1.2.0_smoke.md` 업데이트 완료.
